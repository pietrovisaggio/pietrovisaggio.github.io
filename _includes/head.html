{%- comment -%}
  _includes/head.html: only inner content, no <head> wrapper
{%- endcomment -%}

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>{{ page.title | default: site.title }}</title>

{%- assign meta_desc = page.excerpt | default: site.description | strip_html | strip_newlines | truncate: 200 -%}
<meta name="description" content="{{ meta_desc }}">

<!-- App/site names -->
<meta property="og:site_name" content="{{ site.title }}">
<meta name="application-name" content="{{ site.title }}">
<meta name="apple-mobile-web-app-title" content="{{ site.title }}">

<!-- Canonical -->
<link rel="canonical" href="{{ page.url | absolute_url }}">

<!-- Open Graph -->
<meta property="og:type" content="website">
<meta property="og:title" content="{{ page.title | default: site.title }}">
<meta property="og:description" content="{{ meta_desc }}">
<meta property="og:url" content="{{ page.url | absolute_url }}">
{%- if page.image or site.social_image -%}
  <meta property="og:image" content="{{ page.image | default: site.social_image | absolute_url }}">
{%- endif -%}

<!-- Twitter -->
<meta name="twitter:card" content="summary{%- if page.image or site.social_image -%}_large_image{%- endif -%}">
<meta name="twitter:title" content="{{ page.title | default: site.title }}">
<meta name="twitter:description" content="{{ meta_desc }}">
{%- if page.image or site.social_image -%}
  <meta name="twitter:image" content="{{ page.image | default: site.social_image | absolute_url }}">
{%- endif -%}

<!-- Styles -->
<link rel="stylesheet" href="{{ '/assets/main.css' | relative_url }}">

<!-- Favicon -->
<link rel="icon" href="{{ '/favicon.ico' | relative_url }}" type="image/x-icon">
<link rel="icon" type="image/png" href="{{ '/assets/images/favicon.png' | relative_url }}" sizes="32x32">

<!-- Feeds -->
{%- feed_meta -%}

<!-- Analytics (prod only) -->
{%- if jekyll.environment == 'production' and site.google_analytics -%}
  {%- include google-analytics.html -%}
{%- endif -%}

<!-- Structured data -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebSite",
  "name": "{{ site.title }}",
  "url": "{{ '/' | absolute_url }}"
}
</script>